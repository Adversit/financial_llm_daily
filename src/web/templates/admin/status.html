{% extends "base.html" %}

{% block breadcrumb %}ç³»ç»ŸçŠ¶æ€{% endblock %}

{% block content %}
<style>
    /* ç³»ç»ŸçŠ¶æ€ç›‘æ§æ ·å¼ */
    .status-header {
        background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        border-radius: 12px;
        padding: 2rem;
        color: white;
        margin-bottom: 2rem;
        box-shadow: 0 4px 12px rgba(250, 112, 154, 0.2);
    }

    .status-title {
        font-size: 1.75rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
    }

    .status-subtitle {
        font-size: 0.9375rem;
        opacity: 0.95;
    }

    .status-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .status-card {
        background: white;
        border-radius: 12px;
        padding: 1.75rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        position: relative;
        overflow: hidden;
    }

    .status-card-header {
        display: flex;
        justify-content: space-between;
        align-items: start;
        margin-bottom: 1.5rem;
    }

    .status-card-icon {
        width: 48px;
        height: 48px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
    }

    .icon-green {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    }

    .icon-blue {
        background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    }

    .icon-orange {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    }

    .icon-red {
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    }

    .status-badge {
        padding: 0.375rem 0.75rem;
        border-radius: 6px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
    }

    .badge-healthy {
        background: #d1fae5;
        color: #065f46;
    }

    .badge-warning {
        background: #fef3c7;
        color: #92400e;
    }

    .badge-error {
        background: #fee2e2;
        color: #991b1b;
    }

    .status-card-title {
        font-size: 0.875rem;
        color: #64748b;
        margin-bottom: 0.5rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .status-card-value {
        font-size: 2rem;
        font-weight: 700;
        color: #0f172a;
        margin-bottom: 1rem;
    }

    .status-detail-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .status-detail-item {
        display: flex;
        justify-content: space-between;
        padding: 0.5rem 0;
        font-size: 0.875rem;
        border-top: 1px solid #f1f5f9;
    }

    .status-detail-item:first-child {
        border-top: none;
    }

    .detail-label {
        color: #64748b;
    }

    .detail-value {
        color: #0f172a;
        font-weight: 500;
    }

    .chart-container {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        margin-bottom: 2rem;
    }

    .chart-title {
        font-size: 1.125rem;
        font-weight: 600;
        color: #0f172a;
        margin-bottom: 1.5rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .chart-placeholder {
        height: 250px;
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #64748b;
        font-size: 0.875rem;
    }

    .service-list {
        background: white;
        border-radius: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        overflow: hidden;
    }

    .service-list-header {
        padding: 1.5rem;
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        border-bottom: 1px solid #e2e8f0;
        font-size: 1.125rem;
        font-weight: 600;
        color: #0f172a;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .service-item {
        padding: 1.25rem 1.5rem;
        border-bottom: 1px solid #f1f5f9;
        display: grid;
        grid-template-columns: 48px 1fr auto;
        gap: 1rem;
        align-items: center;
        transition: background-color 0.2s;
    }

    .service-item:hover {
        background: #fafbfc;
    }

    .service-item:last-child {
        border-bottom: none;
    }

    .service-status-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        display: inline-block;
    }

    .dot-green {
        background: #10b981;
        box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
    }

    .dot-yellow {
        background: #f59e0b;
        box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2);
    }

    .dot-red {
        background: #ef4444;
        box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
    }

    .service-info-name {
        font-weight: 600;
        color: #0f172a;
        margin-bottom: 0.25rem;
    }

    .service-info-desc {
        font-size: 0.8125rem;
        color: #64748b;
    }

    .service-metrics {
        text-align: right;
        font-size: 0.875rem;
        color: #64748b;
    }
</style>

<!-- é¡µé¢å¤´éƒ¨ -->
<div class="status-header">
    <div class="status-title">ğŸ“ˆ ç³»ç»ŸçŠ¶æ€</div>
    <div class="status-subtitle">å®æ—¶ç›‘æ§ç³»ç»Ÿå„ç»„ä»¶è¿è¡ŒçŠ¶æ€å’Œæ€§èƒ½æŒ‡æ ‡</div>
</div>

<!-- æ ¸å¿ƒæŒ‡æ ‡å¡ç‰‡ -->
<div class="status-grid">
    <div class="status-card">
        <div class="status-card-header">
            <div class="status-card-icon icon-green">ğŸ’š</div>
            <div class="status-badge badge-healthy">æ­£å¸¸</div>
        </div>
        <div class="status-card-title">PostgreSQL æ•°æ®åº“</div>
        <div class="status-card-value">99.8%</div>
        <ul class="status-detail-list">
            <li class="status-detail-item">
                <span class="detail-label">è¿æ¥æ•°</span>
                <span class="detail-value">12 / 100</span>
            </li>
            <li class="status-detail-item">
                <span class="detail-label">å“åº”æ—¶é—´</span>
                <span class="detail-value">2.3 ms</span>
            </li>
            <li class="status-detail-item">
                <span class="detail-label">æ•°æ®åº“å¤§å°</span>
                <span class="detail-value">234 MB</span>
            </li>
        </ul>
    </div>

    <div class="status-card">
        <div class="status-card-header">
            <div class="status-card-icon icon-blue">ğŸ’™</div>
            <div class="status-badge badge-healthy">æ­£å¸¸</div>
        </div>
        <div class="status-card-title">Redis ç¼“å­˜</div>
        <div class="status-card-value">100%</div>
        <ul class="status-detail-list">
            <li class="status-detail-item">
                <span class="detail-label">å†…å­˜ä½¿ç”¨</span>
                <span class="detail-value">45.2 MB</span>
            </li>
            <li class="status-detail-item">
                <span class="detail-label">é”®æ•°é‡</span>
                <span class="detail-value">1,234</span>
            </li>
            <li class="status-detail-item">
                <span class="detail-label">å‘½ä¸­ç‡</span>
                <span class="detail-value">98.5%</span>
            </li>
        </ul>
    </div>

    <div class="status-card">
        <div class="status-card-header">
            <div class="status-card-icon icon-orange">ğŸ§¡</div>
            <div class="status-badge badge-warning">ç¹å¿™</div>
        </div>
        <div class="status-card-title">Celery ä»»åŠ¡é˜Ÿåˆ—</div>
        <div class="status-card-value">78%</div>
        <ul class="status-detail-list">
            <li class="status-detail-item">
                <span class="detail-label">æ´»è·ƒä»»åŠ¡</span>
                <span class="detail-value">3</span>
            </li>
            <li class="status-detail-item">
                <span class="detail-label">å¾…å¤„ç†</span>
                <span class="detail-value">8</span>
            </li>
            <li class="status-detail-item">
                <span class="detail-label">ä»Šæ—¥å®Œæˆ</span>
                <span class="detail-value">142</span>
            </li>
        </ul>
    </div>

    <div class="status-card">
        <div class="status-card-header">
            <div class="status-card-icon icon-green">ğŸ’š</div>
            <div class="status-badge badge-healthy">æ­£å¸¸</div>
        </div>
        <div class="status-card-title">Web æœåŠ¡</div>
        <div class="status-card-value">99.9%</div>
        <ul class="status-detail-list">
            <li class="status-detail-item">
                <span class="detail-label">è¯·æ±‚/ç§’</span>
                <span class="detail-value">12.5</span>
            </li>
            <li class="status-detail-item">
                <span class="detail-label">å¹³å‡å»¶è¿Ÿ</span>
                <span class="detail-value">45 ms</span>
            </li>
            <li class="status-detail-item">
                <span class="detail-label">ä»Šæ—¥è¯·æ±‚</span>
                <span class="detail-value">8,432</span>
            </li>
        </ul>
    </div>
</div>

<!-- æ€§èƒ½å›¾è¡¨ -->
<div class="chart-container">
    <div class="chart-title">
        <span>ğŸ“Š</span>
        <span>ç³»ç»Ÿæ€§èƒ½è¶‹åŠ¿ï¼ˆæœ€è¿‘24å°æ—¶ï¼‰</span>
    </div>
    <div class="chart-placeholder">
        ğŸ“ˆ å›¾è¡¨å ä½ - å¯é›†æˆ Chart.js æˆ– ECharts æ˜¾ç¤ºå®æ—¶ç›‘æ§æ•°æ®
    </div>
</div>

<!-- æœåŠ¡åˆ—è¡¨ -->
<div class="service-list">
    <div class="service-list-header">
        <span>âš™ï¸</span>
        <span>æœåŠ¡ç»„ä»¶çŠ¶æ€</span>
    </div>

    <div class="service-item">
        <div style="display: flex; align-items: center; justify-content: center;">
            <span class="service-status-dot dot-green"></span>
        </div>
        <div>
            <div class="service-info-name">FastAPI Web Server</div>
            <div class="service-info-desc">ä¸»WebæœåŠ¡ - ç«¯å£ 8000</div>
        </div>
        <div class="service-metrics">
            è¿è¡Œæ—¶é—´: 3å¤© 12å°æ—¶
        </div>
    </div>

    <div class="service-item">
        <div style="display: flex; align-items: center; justify-content: center;">
            <span class="service-status-dot dot-green"></span>
        </div>
        <div>
            <div class="service-info-name">PostgreSQL Database</div>
            <div class="service-info-desc">ä¸»æ•°æ®åº“ - ç«¯å£ 5432</div>
        </div>
        <div class="service-metrics">
            è¿è¡Œæ—¶é—´: 5å¤© 8å°æ—¶
        </div>
    </div>

    <div class="service-item">
        <div style="display: flex; align-items: center; justify-content: center;">
            <span class="service-status-dot dot-green"></span>
        </div>
        <div>
            <div class="service-info-name">Redis Cache</div>
            <div class="service-info-desc">ç¼“å­˜æœåŠ¡ - ç«¯å£ 6379</div>
        </div>
        <div class="service-metrics">
            è¿è¡Œæ—¶é—´: 5å¤© 8å°æ—¶
        </div>
    </div>

    <div class="service-item">
        <div style="display: flex; align-items: center; justify-content: center;">
            <span class="service-status-dot dot-yellow"></span>
        </div>
        <div>
            <div class="service-info-name">Celery Worker</div>
            <div class="service-info-desc">åå°ä»»åŠ¡å¤„ç†</div>
        </div>
        <div class="service-metrics">
            è¿è¡Œæ—¶é—´: 2å¤© 16å°æ—¶
        </div>
    </div>

    <div class="service-item">
        <div style="display: flex; align-items: center; justify-content: center;">
            <span class="service-status-dot dot-green"></span>
        </div>
        <div>
            <div class="service-info-name">Celery Beat</div>
            <div class="service-info-desc">å®šæ—¶ä»»åŠ¡è°ƒåº¦</div>
        </div>
        <div class="service-metrics">
            è¿è¡Œæ—¶é—´: 2å¤© 16å°æ—¶
        </div>
    </div>

    <div class="service-item">
        <div style="display: flex; align-items: center; justify-content: center;">
            <span class="service-status-dot dot-green"></span>
        </div>
        <div>
            <div class="service-info-name">SMTPé‚®ä»¶æœåŠ¡</div>
            <div class="service-info-desc">é‚®ä»¶å‘é€æœåŠ¡</div>
        </div>
        <div class="service-metrics">
            ä»Šæ—¥å‘é€: 35å°
        </div>
    </div>
</div>

<!-- æç¤ºä¿¡æ¯ -->
<div style="background: #eff6ff; border-left: 4px solid #2563eb; padding: 1rem 1.25rem; border-radius: 8px; margin-top: 2rem;">
    <div style="font-weight: 600; color: #1e40af; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
        <span>ğŸ’¡</span>
        <span>ç›‘æ§è¯´æ˜</span>
    </div>
    <ul style="margin: 0; padding-left: 1.25rem; color: #1e40af; font-size: 0.875rem;">
        <li>ç³»ç»ŸçŠ¶æ€æ¯30ç§’è‡ªåŠ¨åˆ·æ–°ä¸€æ¬¡</li>
        <li>ç»¿è‰²è¡¨ç¤ºæ­£å¸¸ï¼Œé»„è‰²è¡¨ç¤ºè­¦å‘Šï¼Œçº¢è‰²è¡¨ç¤ºé”™è¯¯</li>
        <li>å¯é…ç½®ç›‘æ§é˜ˆå€¼å’Œå‘Šè­¦é€šçŸ¥</li>
    </ul>
</div>

{% endblock %}
