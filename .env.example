# 基础配置
TZ=Asia/Shanghai
ENV=development

# 数据库
DATABASE_URL=postgresql://fin_user:fin_pass@localhost:5432/fin_daily_report

# Redis
REDIS_URL=redis://localhost:6379/0

# LLM Provider - DeepSeek
PROVIDER_DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
PROVIDER_DEEPSEEK_API_KEY=sk-xxx
PROVIDER_DEEPSEEK_MODEL=deepseek-chat

# LLM Provider - Qwen
PROVIDER_QWEN_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
PROVIDER_QWEN_API_KEY=sk-xxx
PROVIDER_QWEN_MODEL=qwen-plus  # qwen-plus(最便宜) | qwen-max(质量最高) | qwen-turbo(待核实)
# 注: Provider优先级为 qwen-plus → deepseek → qwen-max (按成本排序)

# 采集配置
CRAWL_CONCURRENCY_RSS=10
CRAWL_CONCURRENCY_WEB=2
CRAWL_CONCURRENCY_DYNAMIC=2
CRAWL_TIMEOUT_SEC=30
CRAWL_RETRY_TIMES=3

# Playwright 配置（用于动态网页采集）
PLAYWRIGHT_MAX_BROWSERS=5
PLAYWRIGHT_HEADLESS=true
PLAYWRIGHT_TIMEOUT_MS=30000
PLAYWRIGHT_WAIT_UNTIL=domcontentloaded
PLAYWRIGHT_PROXY=http://127.0.0.1:7890  # 代理服务器，留空则不使用

# LLM 配置
LLM_TIMEOUT_SEC=90
LLM_RETRIES=2
LLM_CHUNK_BUDGET=0.7
LLM_CHUNK_OVERLAP_CHARS=200
LLM_MAX_CHUNKS_PER_ARTICLE=8
LLM_LONGFORM_STRATEGY=summary_then_extract
LLM_ALLOW_PARALLEL_ARTICLE_PROCESSING=false

# 报告配置
REPORT_TOPN=5
CONFIDENCE_THRESHOLD=0.6
MIN_CONTENT_LEN=120

# JWT 配置
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_DAYS=7

# OTP 配置
OTP_TTL_SECONDS=600
OTP_RESEND_INTERVAL=60
OTP_MAX_ATTEMPTS=5

# 前端配置
THEME_PRIMARY_COLOR="#1d4ed8"
STOPWORDS_PATH=./config/stopwords_zh.txt

# 安全配置
ENABLE_CSRF=false
ENABLE_RATE_LIMIT=false
ALLOWED_HOSTS=*
CORS_ORIGINS=*

# 词云配置
WORDCLOUD_CACHE_TTL=86400
WORDCLOUD_MIN_KEYWORD_FREQ=2
WORDCLOUD_MAX_WORDS=100
WORDCLOUD_SIMILARITY_THRESHOLD=0.8

# 邮件配置
SMTP_HOST=smtp.163.com
SMTP_PORT=465
SMTP_USER=your_email@163.com
SMTP_PASS=your_auth_code
MAIL_BATCH_LIMIT=50
MAIL_RATE_LIMIT_PER_SEC=1
MAIL_WINDOW_START=06:05
MAIL_WINDOW_END=06:20
